<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up - GameVerse</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
</head>

<body class="bg-gray-900 text-white min-h-screen flex items-center justify-center">
    <div class="bg-gray-800 p-8 rounded-2xl shadow-lg w-full max-w-md">
        <h2 class="text-3xl font-bold text-center text-indigo-400 mb-6">Create Your Account</h2>
        <form id="signupForm" class="space-y-5">
            <div>
                <label class="block text-sm mb-1">Username</label>
                <input type="text" id="username" required
                    class="w-full p-3 rounded-lg bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
            </div>
            <div>
                <label class="block text-sm mb-1">Email</label>
                <input type="email" id="email" required
                    class="w-full p-3 rounded-lg bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
            </div>
            <div>
                <label class="block text-sm mb-1">Password</label>
                <input type="password" id="password" required
                    class="w-full p-3 rounded-lg bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
            </div>
            <button type="submit"
                class="w-full bg-indigo-500 hover:bg-indigo-600 text-white p-3 rounded-lg font-semibold transition">Sign
                Up</button>
        </form>
        <p class="text-sm text-center mt-4 text-gray-400" id="message"></p>
    </div>

    <script type="module">
        // Firebase Import (Correct order)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Firebase Config (Make sure this is correct)
        const firebaseConfig = {
            apiKey: "AIzaSyBRT5VFIn2NGVzNn15mu_YeQNiz8vEmiL0",
            authDomain: "game-verse-c777c.firebaseapp.com",
            projectId: "game-verse-c777c",
            storageBucket: "game-verse-c777c.appspot.com",
            messagingSenderId: "413081788819",
            appId: "1:413081788819:web:e9d1ee9d2be5eb37230866",
            measurementId: "G-DF5HFT1R49"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Handle Sign Up Form Submit
        document.getElementById("signupForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            createUserWithEmailAndPassword(auth, email, password)
                .then(userCredential => {
                    document.getElementById("message").textContent = "Sign up successful!";
                    document.getElementById("message").className = "text-green-400 text-center mt-4";
                    document.getElementById("signupForm").reset();
                    window.location.href = "login.html"; // Redirect to login page after successful sign up
                })
                .catch(error => {
                    document.getElementById("message").textContent = error.message;
                    document.getElementById("message").className = "text-red-400 text-center mt-4";
                });
        });
    </script>
</body>

</html>
